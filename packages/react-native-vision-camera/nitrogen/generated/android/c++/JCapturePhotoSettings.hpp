///
/// JCapturePhotoSettings.hpp
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© 2025 Marc Rousavy @ Margelo
///

#pragma once

#include <fbjni/fbjni.h>
#include "CapturePhotoSettings.hpp"

#include "FlashMode.hpp"
#include "JFlashMode.hpp"
#include "JQualityPrioritization.hpp"
#include "QualityPrioritization.hpp"
#include <optional>

namespace margelo::nitro::camera {

  using namespace facebook;

  /**
   * The C++ JNI bridge between the C++ struct "CapturePhotoSettings" and the the Kotlin data class "CapturePhotoSettings".
   */
  struct JCapturePhotoSettings final: public jni::JavaClass<JCapturePhotoSettings> {
  public:
    static auto constexpr kJavaDescriptor = "Lcom/margelo/nitro/camera/CapturePhotoSettings;";

  public:
    /**
     * Convert this Java/Kotlin-based struct to the C++ struct CapturePhotoSettings by copying all values to C++.
     */
    [[maybe_unused]]
    [[nodiscard]]
    CapturePhotoSettings toCpp() const {
      static const auto clazz = javaClassStatic();
      static const auto fieldFlashMode = clazz->getField<JFlashMode>("flashMode");
      jni::local_ref<JFlashMode> flashMode = this->getFieldValue(fieldFlashMode);
      static const auto fieldQualityPrioritization = clazz->getField<JQualityPrioritization>("qualityPrioritization");
      jni::local_ref<JQualityPrioritization> qualityPrioritization = this->getFieldValue(fieldQualityPrioritization);
      static const auto fieldEnableDepthData = clazz->getField<jni::JBoolean>("enableDepthData");
      jni::local_ref<jni::JBoolean> enableDepthData = this->getFieldValue(fieldEnableDepthData);
      static const auto fieldEnableShutterSound = clazz->getField<jni::JBoolean>("enableShutterSound");
      jni::local_ref<jni::JBoolean> enableShutterSound = this->getFieldValue(fieldEnableShutterSound);
      static const auto fieldIsAutoRedEyeReductionEnabled = clazz->getField<jni::JBoolean>("isAutoRedEyeReductionEnabled");
      jni::local_ref<jni::JBoolean> isAutoRedEyeReductionEnabled = this->getFieldValue(fieldIsAutoRedEyeReductionEnabled);
      static const auto fieldIsCameraCalibrationDataDeliveryEnabled = clazz->getField<jni::JBoolean>("isCameraCalibrationDataDeliveryEnabled");
      jni::local_ref<jni::JBoolean> isCameraCalibrationDataDeliveryEnabled = this->getFieldValue(fieldIsCameraCalibrationDataDeliveryEnabled);
      static const auto fieldIsAutoContentAwareDistortionCorrectionEnabled = clazz->getField<jni::JBoolean>("isAutoContentAwareDistortionCorrectionEnabled");
      jni::local_ref<jni::JBoolean> isAutoContentAwareDistortionCorrectionEnabled = this->getFieldValue(fieldIsAutoContentAwareDistortionCorrectionEnabled);
      static const auto fieldIsAutoVirtualDeviceFusionEnabled = clazz->getField<jni::JBoolean>("isAutoVirtualDeviceFusionEnabled");
      jni::local_ref<jni::JBoolean> isAutoVirtualDeviceFusionEnabled = this->getFieldValue(fieldIsAutoVirtualDeviceFusionEnabled);
      return CapturePhotoSettings(
        flashMode != nullptr ? std::make_optional(flashMode->toCpp()) : std::nullopt,
        qualityPrioritization != nullptr ? std::make_optional(qualityPrioritization->toCpp()) : std::nullopt,
        enableDepthData != nullptr ? std::make_optional(static_cast<bool>(enableDepthData->value())) : std::nullopt,
        enableShutterSound != nullptr ? std::make_optional(static_cast<bool>(enableShutterSound->value())) : std::nullopt,
        isAutoRedEyeReductionEnabled != nullptr ? std::make_optional(static_cast<bool>(isAutoRedEyeReductionEnabled->value())) : std::nullopt,
        isCameraCalibrationDataDeliveryEnabled != nullptr ? std::make_optional(static_cast<bool>(isCameraCalibrationDataDeliveryEnabled->value())) : std::nullopt,
        isAutoContentAwareDistortionCorrectionEnabled != nullptr ? std::make_optional(static_cast<bool>(isAutoContentAwareDistortionCorrectionEnabled->value())) : std::nullopt,
        isAutoVirtualDeviceFusionEnabled != nullptr ? std::make_optional(static_cast<bool>(isAutoVirtualDeviceFusionEnabled->value())) : std::nullopt
      );
    }

  public:
    /**
     * Create a Java/Kotlin-based struct by copying all values from the given C++ struct to Java.
     */
    [[maybe_unused]]
    static jni::local_ref<JCapturePhotoSettings::javaobject> fromCpp(const CapturePhotoSettings& value) {
      using JSignature = JCapturePhotoSettings(jni::alias_ref<JFlashMode>, jni::alias_ref<JQualityPrioritization>, jni::alias_ref<jni::JBoolean>, jni::alias_ref<jni::JBoolean>, jni::alias_ref<jni::JBoolean>, jni::alias_ref<jni::JBoolean>, jni::alias_ref<jni::JBoolean>, jni::alias_ref<jni::JBoolean>);
      static const auto clazz = javaClassStatic();
      static const auto create = clazz->getStaticMethod<JSignature>("fromCpp");
      return create(
        clazz,
        value.flashMode.has_value() ? JFlashMode::fromCpp(value.flashMode.value()) : nullptr,
        value.qualityPrioritization.has_value() ? JQualityPrioritization::fromCpp(value.qualityPrioritization.value()) : nullptr,
        value.enableDepthData.has_value() ? jni::JBoolean::valueOf(value.enableDepthData.value()) : nullptr,
        value.enableShutterSound.has_value() ? jni::JBoolean::valueOf(value.enableShutterSound.value()) : nullptr,
        value.isAutoRedEyeReductionEnabled.has_value() ? jni::JBoolean::valueOf(value.isAutoRedEyeReductionEnabled.value()) : nullptr,
        value.isCameraCalibrationDataDeliveryEnabled.has_value() ? jni::JBoolean::valueOf(value.isCameraCalibrationDataDeliveryEnabled.value()) : nullptr,
        value.isAutoContentAwareDistortionCorrectionEnabled.has_value() ? jni::JBoolean::valueOf(value.isAutoContentAwareDistortionCorrectionEnabled.value()) : nullptr,
        value.isAutoVirtualDeviceFusionEnabled.has_value() ? jni::JBoolean::valueOf(value.isAutoVirtualDeviceFusionEnabled.value()) : nullptr
      );
    }
  };

} // namespace margelo::nitro::camera
